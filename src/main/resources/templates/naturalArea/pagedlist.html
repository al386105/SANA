<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<body>
<!--<div th:replace="fragments/header"></div>-->

<section class="text-white bg-primary mb-0" id="natural_areas">
<h1>Areas naturales</h1>

    <div class="box" style="padding-bottom: 20px; padding-top: 20px">
        <form >
            <span class="icon"><i class="fa fa-search"></i></span>
            <input th:name="patron" style="border-radius: 25px;" type="search" id="search" placeholder="Search..." />
            <button style="border-radius: 25px;" type="submit" class="btn btn-primary"> Buscar</button>
        </form>

    </div>


<table class="table table-striped">
    <tbody>
    <div th:with="naturalAreas=${naturalAreasPaged[__${selectedPage}__]}">

        <tr th:each="naturalArea, iterator : ${naturalAreas}">
            <td>
                <!--  NATURAL AREAS PICTURE  -->
                <img th:src="${pathPicturesPaged.get(selectedPage).get(iterator.index)}" alt="Foto del area natural" class="fotoListado"/>
            </td>

            <td>
                <!--  NATURAL AREAS INFORMATION  -->
                <h5 th:text="${naturalArea.name}"> </h5>
                <br>
                <p th:text="${naturalArea.municipality}"></p>
<!--                <br><br>-->
<!--                <p th:text="${naturalArea.typeOfAccess.descripcion}"></p>-->
            </td>

            <td>
                <!--  BUTTONS  -->
                <a th:href="@{/naturalArea/get/{naturalArea}(naturalArea=${naturalArea.name})}">
                <button type="button" class="btn btn-primary">Más Información</button> </a>
                <div th:if="${#strings.equals(naturalArea.typeOfAccess.name(), 'restricted')}">
                    <br>
                    <a th:href="${'/reservation/add/' + naturalArea.name}">
                        <button type="button" class="btn btn-primary"> Realizar reserva</button> </a>
                </div>
            </td>
        </tr>
    </div>
    </tbody>
</table>

<!--  PAGINATION BUTTONS  -->
<nav aria-label="seleccion de pagina de naturalAreas">
    <ul class="pagination justify-content-center">
        <li th:class="page-item" th:if="${#lists.size(naturalAreasPaged) > 0}"
            th:each="pageNumber : ${pageNumbers}"
            th:classappend="${pageNumber==selectedPage+1} ? active">
            <a th:href="@{/naturalArea/pagedlist?page={sele}(sele=${pageNumber-1})}"
               th:text=${pageNumber}
               th:class="page-link">
            </a>
        </li>
    </ul>
</nav>

</section>

<br> <br>

